(this["webpackJsonpcurry-index"]=this["webpackJsonpcurry-index"]||[]).push([[0],{27:function(e,t,a){},53:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var s=a(13),r=a(14),n=a(16),c=a(15),l=a(1),i=a(0),o=a.n(i),d=a(9),u=a.n(d),m=(a(27),a(20)),j=a(7),b=a(19),h=a(24),p=a(31),y=a.n(p),g=a(23),O=a.p+"static/media/currybowllg.161ed1e1.svg",x=a(25),f=a(11),v=a(34),N=a(37),S=a.n(N);a(22);var C=function(e){return Object(l.jsx)(x.a,{id:"bootstrap-overrides",show:e.show,size:"md",backdrop:"static",className:"modal-add-curry","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(l.jsxs)(f.a,{onSubmit:e.currySetter,children:[Object(l.jsxs)(x.a.Body,{className:"container-fluid",children:[Object(l.jsx)("h2",{className:"mb-1",children:"New Curry Entry"}),Object(l.jsx)("div",{className:"sublabel req",children:"* Required field"}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-8",children:[Object(l.jsx)(f.a.Label,{id:"restaurantName-label",className:"mb-1",children:"Restaurant*"}),Object(l.jsx)("br",{}),Object(l.jsx)(f.a.Control,{autoComplete:"off",size:"sm",name:"restaurantName",type:"text",placeholder:"Name of Restaurant"}),Object(l.jsx)("br",{}),Object(l.jsx)(f.a.Label,{id:"restaurantAddress-label",className:"mb-1",children:"Full Address of Restaurant*"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"sublabel",children:'Can also write as "Restaurant name, City, State"'}),Object(l.jsx)(f.a.Control,{autoComplete:"off",size:"sm",name:"restaurantAddress",type:"text",placeholder:'e.g. "123 Thai St, Pittsburgh, PA"'}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"container p-0",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-8",children:[Object(l.jsx)(f.a.Label,{id:"curryType-label",className:"mb-0",children:"Curry Name*"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"sublabel",children:'Include "curry" in name'}),Object(l.jsx)(f.a.Control,{autoComplete:"off",size:"sm",name:"curryType",type:"text",placeholder:'e.g. "Red Curry"'})]}),Object(l.jsxs)("div",{className:"col-4",children:[Object(l.jsx)(f.a.Label,{id:"curryRating-label",className:"mb-0",children:"Rating*"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"sublabel",children:"1=worst, 5=best"}),Object(l.jsx)(f.a.Control,{autoComplete:"off",size:"sm",name:"curryRating",type:"text",placeholder:"1-5"})]})]})}),Object(l.jsx)("br",{}),Object(l.jsx)(f.a.Label,{id:"tastingNotes-label",className:"mb-1",children:"Taste Notes"}),Object(l.jsx)(f.a.Control,{as:"textarea",name:"tastingNotes",placeholder:"Taste description of curry",rows:3})]}),Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)(f.a.Group,{children:Object(l.jsx)(S.a,{withIcon:!1,buttonText:"Upload Image",withPreview:!0,singleImage:!0,label:"Max file size: 5MB \n Accepted file types: jpg, gif, png",onChange:e.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})})})]})]}),Object(l.jsxs)(x.a.Footer,{children:[Object(l.jsx)(v.a,{variant:"outline-secondary",size:"sm",onClick:e.onHide,children:"Close"}),Object(l.jsx)(v.a,{variant:"primary",type:"submit",size:"sm",children:"Save"})]})]})})};a(53);y.a.setApiKey("AIzaSyAYZ0l37RYVyu6rfb-K6WEP1tbFrPfJmKM");var w={width:"80%",height:"330px",position:"relative"};var L=function(){var e=localStorage.getItem("curryList");return e&&JSON.parse(e)}(),k=function(){var e=[];L||(L=[]);for(var t=function(t){var a=L[t];y.a.fromAddress(a.restaurantAddress).then((function(t){var s=t.results[0].geometry.location,r=s.lat,n=s.lng;e.push({latitude:r,longitude:n,name:a.restaurantName})}),(function(e){console.error("No location found for restaurant ",L[t].restaurantName," at ",L[t].restaurantAddress,"\nTechnical error for this to follow (just ignore):\n",e)}))},a=0;a<L.length;a++)t(a);return e}(),I=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).displayMarkers=function(){return r.state.restaurants.map((function(e,t){return Object(l.jsx)(h.Marker,{id:t,position:{lat:e.latitude,lng:e.longitude},icon:{url:"http://maps.google.com/mapfiles/kml/pal2/icon41.png"},onClick:function(){return r.markerClicked(e,t)}},e.name+"_"+t)}))},r.addItem=function(e){e.preventDefault();for(var t,a="tastingNotes",s=!1,n=0;n<5;n++)""!==e.target[n].value||a.includes(e.target[n].name)?"#212529"!==document.getElementById(e.target[n].name+"-label").style.color&&(document.getElementById(e.target[n].name+"-label").style.color="#212529",document.getElementById(e.target[n].name+"-label").style.fontWeight="400"):(t=e.target[n].name,document.getElementById(t+"-label").style="color: #dc3545; font-weight: 600",s=!0);if(!0===s)return document.getElementsByClassName("req")[0].style.color="#dc3545",null;var c,l=r.state.curryList,i={};for(n=0;n<5;n++)a.includes(e.target[n].name)&&""===e.target[n].value&&(e.target[n].value="N/A"),i[e.target.elements[n].name]=e.target[n].value;0===r.state.pictures.length?i.pic=O:i.pic=r.state.pictures,l.push(i),r.setState({curryList:l}),c=l,localStorage.setItem("curryList",JSON.stringify(c)),r.setModalShow(!1),window.location.reload()},r.state={curryList:L||[],restaurants:k||[],markerSelected:!1,modalShow:!1,pictures:[]},r.onDrop=r.onDrop.bind(Object(b.a)(r)),r}return Object(r.a)(a,[{key:"onDrop",value:function(e,t){this.setState({pictures:t})}},{key:"markerClicked",value:function(e,t){this.setState({markerSelected:!0}),document.getElementById("instrucs").innerHTML="Selected restaurant: ";for(var a=0;a<document.getElementsByClassName("rest-name").length;a++)document.getElementsByClassName("rest-name")[a].innerHTML=e.name;document.getElementById("curry-img").src=this.state.curryList[t].pic,document.getElementById("ranking").innerHTML="#"+(t+1),document.getElementById("curry-type").innerHTML=this.state.curryList[t].curryType,document.getElementById("taste-notes").innerHTML=this.state.curryList[t].tastingNotes,document.getElementById("rate").innerHTML=this.state.curryList[t].curryRating}},{key:"setModalShow",value:function(e){!0===e&&this.setState({pictures:[]}),this.setState({modalShow:e})}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{id:"bootstrap-overrides",children:[Object(l.jsxs)("div",{id:"selected-restaurant",children:[Object(l.jsx)("span",{id:"instrucs",children:"Select a Pinned Thai Curry Restaurant"})," ",Object(l.jsx)("span",{className:"rest-name"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"link-like-span",onClick:function(){return e.setModalShow(!0)},children:"+ Add New Curry"})]}),Object(l.jsx)(C,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},currySetter:this.addItem,onDrop:this.onDrop}),Object(l.jsx)("div",{id:"map-box",children:Object(l.jsx)(h.Map,{google:this.props.google,zoom:13,style:w,initialCenter:{lat:40.4476,lng:-79.9809},children:this.displayMarkers()})}),Object(l.jsx)("div",{id:"notice",children:"Note: if map doesn't update or show markers and curries in index, refresh page"}),this.state.markerSelected&&Object(l.jsxs)("div",{id:"selected-curry",className:"mt-2 mt-md-2",children:[Object(l.jsx)(g.a,{alt:"curry",src:O,id:"curry-img",className:"selected-curry-image left-fl mr-4"}),Object(l.jsxs)("div",{className:"left-fl",children:[Object(l.jsx)("span",{className:"left-fl",children:Object(l.jsx)("span",{id:"ranking",children:"#1"})}),Object(l.jsxs)("span",{className:"left-fl ml-1 mt-3",children:[Object(l.jsx)("h2",{className:"rest-name mb-0",children:"n"}),Object(l.jsx)("h3",{id:"curry-type",children:"Type"})]}),Object(l.jsxs)("div",{className:"clear",children:["Taste notes: ",Object(l.jsx)("span",{id:"taste-notes"}),Object(l.jsx)("br",{}),"Rating: ",Object(l.jsx)("span",{id:"rate"}),"/5"]})]})]})]})}}]),a}(i.Component),E=Object(h.GoogleApiWrapper)({apiKey:"AIzaSyAYZ0l37RYVyu6rfb-K6WEP1tbFrPfJmKM"})(I),M=(a(69),function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("nav",{id:"overrides",className:"navbar mb-5 px-0",children:[Object(l.jsx)(m.b,{to:"/",replace:!0,className:"navbar-brand",children:"Custom Curry Index"}),Object(l.jsxs)("div",{className:"navbar-nav flex-row",children:[Object(l.jsx)(m.c,{to:"/",replace:!0,className:"nav-item nav-link px-1 mr-2",children:"Curry Index"}),Object(l.jsx)(m.c,{to:"/map",replace:!0,className:"nav-item nav-link px-1 mx-2",children:"Map"})]})]})}}]),a}(i.Component));function B(e){localStorage.setItem("curryList",JSON.stringify(e))}var A=function(){var e=localStorage.getItem("curryList");return e&&JSON.parse(e)}(),T=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{className:"col-sm-12 col-md-6 mb-4",children:Object(l.jsx)("div",{className:"mt-4 mt-sm-auto",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-12 col-md-7 col-lg-6",children:Object(l.jsx)(g.a,{alt:"curry",src:this.props.pic,className:"card-images"})}),Object(l.jsxs)("div",{className:"col-12 col-md-5 col-lg-6",children:[Object(l.jsx)("h2",{className:"mb-0 mt-2 mt-md-0 curry-card-title",children:this.props.restaurant}),Object(l.jsx)("h3",{children:this.props.curry}),Object(l.jsxs)("p",{children:["Taste notes: ",this.props.tastingNotes,Object(l.jsx)("br",{}),"Rating: ",this.props.rating,"/5"]}),Object(l.jsx)("span",{className:"delete-btn",onClick:function(t){return e.props.deleteItem(t,e.props.i)},children:"Delete"})]})]})})})}}]),a}(o.a.Component),R=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).addItem=function(e){e.preventDefault();for(var t,a="tastingNotes",s=!1,n=0;n<5;n++)""!==e.target[n].value||a.includes(e.target[n].name)?"#212529"!==document.getElementById(e.target[n].name+"-label").style.color&&(document.getElementById(e.target[n].name+"-label").style.color="#212529",document.getElementById(e.target[n].name+"-label").style.fontWeight="400"):(t=e.target[n].name,document.getElementById(t+"-label").style="color: #dc3545; font-weight: 600",s=!0);if(!0===s)return document.getElementsByClassName("req")[0].style.color="#dc3545",null;var c=r.state.curryList,l={};for(n=0;n<5;n++)a.includes(e.target[n].name)&&""===e.target[n].value&&(e.target[n].value="N/A"),l[e.target.elements[n].name]=e.target[n].value;0===r.state.pictures.length?l.pic=O:l.pic=r.state.pictures,c.push(l),r.setState({curryList:c}),B(c),r.setModalShow(!1),r.setState({curryFalling:!0})},r.deleteItem=function(e,t){e.stopPropagation();var a=r.state.curryList;a.splice(t,1),r.setState({curryList:a}),B(a)},r.state={curryList:A||[],newCurryContent:"",modalShow:!1,curryFalling:!1,pictures:[]},r.onDrop=r.onDrop.bind(Object(b.a)(r)),r}return Object(r.a)(a,[{key:"onDrop",value:function(e,t){this.setState({pictures:t})}},{key:"renderCurryItem",value:function(e,t,a,s,r,n){return Object(l.jsx)(T,{restaurant:e,curry:t,tastingNotes:a,rating:s,i:n,deleteItem:this.deleteItem,pic:r},n)}},{key:"setModalShow",value:function(e){!0===e&&this.setState({pictures:[]}),this.setState({modalShow:e})}},{key:"render",value:function(){var e=this,t=[];if(null!==this.state.curryList)for(var a=0;a<this.state.curryList.length;a++){var s=this.state.curryList[a];t.push(this.renderCurryItem(s.restaurantName,s.curryType,s.tastingNotes,s.curryRating,s.pic,a))}return Object(l.jsxs)("div",{id:"bootstrap-overrides",children:[this.state.curryFalling&&Object(l.jsxs)("span",{className:"falling-curry container",children:[Object(l.jsx)("span",{onAnimationEnd:function(){return e.setState({curryFalling:!1})},className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"}),Object(l.jsx)("span",{className:"fallingLeaves"})]}),Object(l.jsxs)("div",{className:"header pb-0 pb-md-3",children:[Object(l.jsx)("h1",{className:"mb-0",children:"Saved Curries"}),Object(l.jsx)("span",{className:"link-like-span",onClick:function(){return e.setModalShow(!0)},children:"+ Add New Curry"})]}),Object(l.jsx)("div",{className:"row",children:t}),Object(l.jsx)(C,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},currySetter:this.addItem,onDrop:this.onDrop})]})}}]),a}(i.Component),D=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(m.a,{basename:"/",children:[Object(l.jsx)(M,{}),Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/",children:Object(l.jsx)(R,{})}),Object(l.jsx)(j.a,{path:"/map",children:Object(l.jsx)(E,{})})]})]})})}}]),a}(i.Component);u.a.render(Object(l.jsx)(D,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.bdc36fed.chunk.js.map