{"ast":null,"code":"import _classCallCheck from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// HOW TO USE MAPS API: https://dev.to/jessicabetts/how-to-use-google-maps-api-and-react-js-26c2\n// Modules\nimport React,{Component}from\"react\";import{Map,GoogleApiWrapper,Marker}from'google-maps-react';import Geocode from\"react-geocode\";// CSS\nimport'./Map.css';import'bootstrap/dist/css/bootstrap.css';Geocode.setApiKey('AIzaSyAYZ0l37RYVyu6rfb-K6WEP1tbFrPfJmKM');var mapStyles={width:'80%',height:'60%'};function loadCurryList(){var unparsedCurryList=localStorage.getItem('curryList');//Using && to condition on unparsedCurryList else null\nreturn unparsedCurryList&&JSON.parse(unparsedCurryList);}function loadMarkerInfo(){var markersList=[];var _loop=function _loop(i){var curry=loaded_curryList[i];Geocode.fromAddress(curry.restaurantAddress).then(function(response){var _response$results$0$g=response.results[0].geometry.location,lat=_response$results$0$g.lat,lng=_response$results$0$g.lng;//   console.log(\"address: \", curry.restaurantAddress, \" \", lat, lng);\nmarkersList.push({latitude:lat,longitude:lng,name:curry.restaurantName});},function(error){console.error(error);});};for(var i=0;i<loaded_curryList.length;i++){_loop(i);}return markersList;}// Globals\nvar loaded_curryList=loadCurryList();var loaded_markerInfo=loadMarkerInfo();var MapContainer=/*#__PURE__*/function(_Component){_inherits(MapContainer,_Component);var _super=_createSuper(MapContainer);function MapContainer(props){var _this;_classCallCheck(this,MapContainer);_this=_super.call(this,props);_this.displayMarkers=function(){return _this.state.restaurants.map(function(rest,index){return/*#__PURE__*/_jsx(Marker,{id:index,position:{lat:rest.latitude,lng:rest.longitude},onClick:function onClick(){return _this.markerClicked(rest);}},rest.name+\"_\"+index);});};_this.state={curryList:loaded_curryList||[],restaurants:loaded_markerInfo||[]};return _this;}_createClass(MapContainer,[{key:\"markerClicked\",value:function markerClicked(restInfo){document.getElementById(\"rest-name\").innerHTML=restInfo.name;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{id:\"bootstrap-overrides\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"selected-restaurant\",children:[\"Selected restaurant: \",/*#__PURE__*/_jsx(\"span\",{id:\"rest-name\",children:/*#__PURE__*/_jsx(\"i\",{children:\"None selected\"})})]}),/*#__PURE__*/_jsx(Map,{google:this.props.google,zoom:13,style:mapStyles,initialCenter:{lat:40.4406,lng:-79.9959},children:this.displayMarkers()})]});}}]);return MapContainer;}(Component);export default GoogleApiWrapper({apiKey:'AIzaSyAYZ0l37RYVyu6rfb-K6WEP1tbFrPfJmKM'})(MapContainer);","map":{"version":3,"sources":["/Users/gabbilaborwit/Desktop/curry-index/curry-index/src/Map.js"],"names":["React","Component","Map","GoogleApiWrapper","Marker","Geocode","setApiKey","mapStyles","width","height","loadCurryList","unparsedCurryList","localStorage","getItem","JSON","parse","loadMarkerInfo","markersList","i","curry","loaded_curryList","fromAddress","restaurantAddress","then","response","results","geometry","location","lat","lng","push","latitude","longitude","name","restaurantName","error","console","length","loaded_markerInfo","MapContainer","props","displayMarkers","state","restaurants","map","rest","index","markerClicked","curryList","restInfo","document","getElementById","innerHTML","google","apiKey"],"mappings":"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","sourcesContent":["// HOW TO USE MAPS API: https://dev.to/jessicabetts/how-to-use-google-maps-api-and-react-js-26c2\n\n// Modules\nimport React, { Component } from \"react\";\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\nimport Geocode from \"react-geocode\";\n\n// CSS\nimport './Map.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nGeocode.setApiKey('AIzaSyAYZ0l37RYVyu6rfb-K6WEP1tbFrPfJmKM');\n\nconst mapStyles = {\n    width: '80%',\n    height: '60%',\n};\n\nfunction loadCurryList() {\n    let unparsedCurryList = localStorage.getItem('curryList')\n    //Using && to condition on unparsedCurryList else null\n    return (unparsedCurryList && JSON.parse(unparsedCurryList))\n}\n\nfunction loadMarkerInfo(){\n    let markersList = [];\n        for (let i = 0; i < loaded_curryList.length; i++) {\n            let curry = loaded_curryList[i];\n\n            Geocode.fromAddress(curry.restaurantAddress).then(\n                response => {\n                    const { lat, lng } = response.results[0].geometry.location;\n                    //   console.log(\"address: \", curry.restaurantAddress, \" \", lat, lng);\n                    markersList.push(\n                        { latitude: lat, longitude: lng, name: curry.restaurantName }\n                    );\n                },\n                error => {\n                    console.error(error);\n                }\n            );\n        }\n        return markersList;\n}\n\n// Globals\nlet loaded_curryList = loadCurryList();\nlet loaded_markerInfo = loadMarkerInfo();\n\nclass MapContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            curryList: loaded_curryList || [],\n            restaurants: loaded_markerInfo || []\n        }\n    }\n\n    displayMarkers = () => {\n        return this.state.restaurants.map((rest, index) => {\n            return <Marker key={rest.name + \"_\" + index} id={index} position={{\n                lat: rest.latitude,\n                lng: rest.longitude\n            }}\n                onClick={() => this.markerClicked(rest)} />\n        })\n    }\n\n    markerClicked(restInfo){\n        document.getElementById(\"rest-name\").innerHTML=restInfo.name;\n    }\n    \n    render() {\n        return (\n            <div id=\"bootstrap-overrides\">\n                <div id=\"selected-restaurant\">Selected restaurant: <span id=\"rest-name\"><i>None selected</i></span></div>\n                <Map\n                    google={this.props.google}\n                    zoom={13}\n                    style={mapStyles}\n                    initialCenter={{ lat: 40.4406, lng: -79.9959 }}\n                >\n                    {this.displayMarkers()}\n                </Map>\n\n            </div>\n        )\n    }\n}\n\nexport default GoogleApiWrapper({ apiKey: 'AIzaSyAYZ0l37RYVyu6rfb-K6WEP1tbFrPfJmKM' })(MapContainer);"]},"metadata":{},"sourceType":"module"}