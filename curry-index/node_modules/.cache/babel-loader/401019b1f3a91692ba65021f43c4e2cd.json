{"ast":null,"code":"import _assertThisInitialized from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gabbilaborwit/Desktop/curry-index/curry-index/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// Make maps update without manual refresh?\n// Modules\nimport React,{Component}from\"react\";import Image from'react-bootstrap/Image';import AddCurryModal from'./AddCurryModal';// import noodleheadRed from './noodlehead-red.jpg';\nimport curryBowl from\"./currybowllg.svg\";// CSS\nimport'./index.css';import'bootstrap/dist/css/bootstrap.css';function throwError(inputName){document.getElementById(inputName+\"-label\").style=\"color: #dc3545; font-weight: 600\";}// Store curry list in local storage\nfunction store(lizt){localStorage.setItem('curryList',JSON.stringify(lizt));}// Load from storage\nfunction load(){var unparsedCurryList=localStorage.getItem('curryList');//Using && to condition on unparsedCurryList else null\nreturn unparsedCurryList&&JSON.parse(unparsedCurryList);}// Globals\nvar loaded_curryList=load();var Curry=/*#__PURE__*/function(_React$Component){_inherits(Curry,_React$Component);var _super=_createSuper(Curry);function Curry(){_classCallCheck(this,Curry);return _super.apply(this,arguments);}_createClass(Curry,[{key:\"render\",value:function render(){var _this=this;return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 mt-sm-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-7 col-lg-6\",children:/*#__PURE__*/_jsx(Image,{alt:\"curry\",src:this.props.pic,className:\"card-images\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-5 col-lg-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-0 mt-2 mt-md-0 curry-card-title\",children:this.props.restaurant}),/*#__PURE__*/_jsx(\"h3\",{children:this.props.curry}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Taste notes: \",this.props.tastingNotes,/*#__PURE__*/_jsx(\"br\",{}),\"Rating: \",this.props.rating,\"/5\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-btn\",onClick:function onClick(e){return _this.props.deleteItem(e,_this.props.i);},children:\"Delete\"})]})]})})});}}]);return Curry;}(React.Component);var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super2=_createSuper(App);function App(props){var _this2;_classCallCheck(this,App);_this2=_super2.call(this,props);_this2.addItem=function(e){e.preventDefault();// Error checker: make sure all input values are filled (except excluded inputs if any)\nvar excludedInputs=\"tastingNotes\";var error=false;// Go through each input field and make sure it's not empty\nfor(var i=0;i<5;i++){if(e.target[i].value===\"\"&&!excludedInputs.includes(e.target[i].name)){throwError(e.target[i].name);error=true;}else if(document.getElementById(e.target[i].name+\"-label\").style.color!==\"#212529\"){document.getElementById(e.target[i].name+\"-label\").style.color=\"#212529\";document.getElementById(e.target[i].name+\"-label\").style.fontWeight=\"400\";}}if(error===true){document.getElementsByClassName(\"req\")[0].style.color=\"#dc3545\";return null;}var currCurryList=_this2.state.curryList;var newCurry={};for(i=0;i<5;i++){// If optional inputs empty, fill with \"None\"\nif(excludedInputs.includes(e.target[i].name)&&e.target[i].value===\"\"){e.target[i].value=\"N/A\";}newCurry[e.target.elements[i].name]=e.target[i].value;}if(_this2.state.pictures.length===0){newCurry[\"pic\"]=curryBowl;}else{newCurry[\"pic\"]=_this2.state.pictures;}currCurryList.push(newCurry);_this2.setState({curryList:currCurryList});store(currCurryList);// close modal\n_this2.setModalShow(false);// Start animation: Falling curry bowls\n_this2.setState({curryFalling:true});};_this2.deleteItem=function(event,i){event.stopPropagation();// Makes the delete button work\nvar currCurryList=_this2.state.curryList;currCurryList.splice(i,1);_this2.setState({curryList:currCurryList});store(currCurryList);};_this2.state={//Using || for backup assignment if no curryList in storage\ncurryList:loaded_curryList||[],newCurryContent:\"\",modalShow:false,curryFalling:false,pictures:[]};_this2.onDrop=_this2.onDrop.bind(_assertThisInitialized(_this2));return _this2;}_createClass(App,[{key:\"onDrop\",value:function onDrop(pictureFiles,pictureDataURLs){this.setState({pictures:pictureDataURLs});}},{key:\"renderCurryItem\",value:function renderCurryItem(restaurant,curryType,tastingNotes,rating,pict,i){return/*#__PURE__*/_jsx(Curry,{restaurant:restaurant,curry:curryType,tastingNotes:tastingNotes,rating:rating,i:i,deleteItem:this.deleteItem,pic:pict},i);}},{key:\"setModalShow\",value:function setModalShow(bool){// on open, reset picture stored for upload so no repeats if someone doesn't upload one\nif(bool===true){this.setState({pictures:[]});}this.setState({modalShow:bool});}},{key:\"render\",value:function render(){var _this3=this;var curriesInIndex=[];if(this.state.curryList!==null){for(var i=0;i<this.state.curryList.length;i++){var curry=this.state.curryList[i];curriesInIndex.push(this.renderCurryItem(curry.restaurantName,curry.curryType,curry.tastingNotes,curry.curryRating,curry.pic,i));}}return/*#__PURE__*/_jsxs(\"div\",{id:\"bootstrap-overrides\",children:[this.state.curryFalling&&/*#__PURE__*/_jsxs(\"span\",{className:\"falling-curry container\",children:[/*#__PURE__*/_jsx(\"span\",{onAnimationEnd:function onAnimationEnd(){return _this3.setState({curryFalling:false});},className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fallingLeaves\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header pb-0 pb-md-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-0\",children:\"Saved Curries\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-like-span\",onClick:function onClick(){return _this3.setModalShow(true);},children:\"+ Add New Curry\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:curriesInIndex}),/*#__PURE__*/_jsx(AddCurryModal,{show:this.state.modalShow,onHide:function onHide(){return _this3.setModalShow(false);},currySetter:this.addItem,onDrop:this.onDrop})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/gabbilaborwit/Desktop/curry-index/curry-index/src/App.js"],"names":["React","Component","Image","AddCurryModal","throwError","inputName","document","getElementById","style","store","lizt","localStorage","setItem","JSON","stringify","load","unparsedCurryList","getItem","parse","loaded_curryList","Curry","props","pic","restaurant","curry","tastingNotes","rating","e","deleteItem","i","App","addItem","preventDefault","excludedInputs","error","target","value","includes","name","color","fontWeight","getElementsByClassName","currCurryList","state","curryList","newCurry","elements","pictures","length","curryBowl","push","setState","setModalShow","curryFalling","event","stopPropagation","splice","newCurryContent","modalShow","onDrop","bind","pictureFiles","pictureDataURLs","curryType","pict","bool","curriesInIndex","renderCurryItem","restaurantName","curryRating"],"mappings":"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","sourcesContent":["// Make maps update without manual refresh?\n\n// Modules\nimport React, { Component } from \"react\";\nimport Image from 'react-bootstrap/Image';\nimport AddCurryModal from './AddCurryModal';\n// import noodleheadRed from './noodlehead-red.jpg';\nimport curryBowl from './currybowllg.svg';\n\n// CSS\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nfunction throwError(inputName) {\n    document.getElementById(inputName + \"-label\").style = \"color: #dc3545; font-weight: 600\";\n}\n\n// Store curry list in local storage\nfunction store(lizt) {\n    localStorage.setItem('curryList', JSON.stringify(lizt))\n}\n\n// Load from storage\nfunction load() {\n    let unparsedCurryList = localStorage.getItem('curryList')\n    //Using && to condition on unparsedCurryList else null\n    return (unparsedCurryList && JSON.parse(unparsedCurryList))\n}\n\n// Globals\nlet loaded_curryList = load();\n\nclass Curry extends React.Component {\n    render() {\n        return (\n            <div className=\"col-sm-12 col-md-6 mb-4\">\n                <div className=\"mt-4 mt-sm-auto\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-md-7 col-lg-6\">\n                            <Image alt=\"curry\" src={this.props.pic} className=\"card-images\" />\n                        </div>\n                        <div className=\"col-12 col-md-5 col-lg-6\">\n                            <h2 className=\"mb-0 mt-2 mt-md-0 curry-card-title\">{this.props.restaurant}</h2>\n                            <h3>{this.props.curry}</h3>\n                            <p>\n                                Taste notes: {this.props.tastingNotes}\n                                <br />Rating: {this.props.rating}/5\n                            </p>\n\n                            <span className=\"delete-btn\" onClick={(e) => this.props.deleteItem(e, this.props.i)}>\n                                Delete\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            //Using || for backup assignment if no curryList in storage\n            curryList: loaded_curryList || [],\n            newCurryContent: \"\",\n            modalShow: false,\n            curryFalling: false,\n            pictures: []\n        }\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n    onDrop(pictureFiles, pictureDataURLs) {\n        this.setState({\n            pictures: pictureDataURLs\n        });\n    }\n\n    renderCurryItem(restaurant, curryType, tastingNotes, rating, pict, i) {\n        return <Curry restaurant={restaurant} curry={curryType} tastingNotes={tastingNotes} rating={rating} i={i} key={i} deleteItem={this.deleteItem} pic={pict} />\n    }\n\n    addItem = (e) => {\n        e.preventDefault();\n        // Error checker: make sure all input values are filled (except excluded inputs if any)\n        let excludedInputs = \"tastingNotes\";\n        let error = false;\n        // Go through each input field and make sure it's not empty\n        for (var i = 0; i < 5; i++) {\n            if (e.target[i].value === \"\" && !excludedInputs.includes(e.target[i].name)) {\n                throwError(e.target[i].name);\n                error = true;\n            }\n            else if (document.getElementById(e.target[i].name + \"-label\").style.color !== \"#212529\") {\n                document.getElementById(e.target[i].name + \"-label\").style.color = \"#212529\";\n                document.getElementById(e.target[i].name + \"-label\").style.fontWeight = \"400\"\n            }\n        }\n        if (error === true) {\n            document.getElementsByClassName(\"req\")[0].style.color = \"#dc3545\";\n            return null\n        }\n\n        let currCurryList = this.state.curryList;\n\n        let newCurry = {};\n        for (i = 0; i < 5; i++) {\n            // If optional inputs empty, fill with \"None\"\n            if (excludedInputs.includes(e.target[i].name) && e.target[i].value === \"\") {\n                e.target[i].value = \"N/A\"\n            }\n\n            newCurry[e.target.elements[i].name] = e.target[i].value;\n        }\n        if(this.state.pictures.length === 0){\n            newCurry[\"pic\"] = curryBowl\n        }\n        else{\n            newCurry[\"pic\"] = this.state.pictures;\n        }\n\n        currCurryList.push(newCurry)\n        this.setState({ curryList: currCurryList });\n        store(currCurryList)\n\n        // close modal\n        this.setModalShow(false);\n\n        // Start animation: Falling curry bowls\n        this.setState({ curryFalling: true });\n    };\n\n    deleteItem = (event, i) => {\n        event.stopPropagation(); // Makes the delete button work\n        let currCurryList = this.state.curryList;\n        currCurryList.splice(i, 1);\n        this.setState({ curryList: currCurryList });\n        store(currCurryList);\n    };\n\n    setModalShow(bool) {\n        // on open, reset picture stored for upload so no repeats if someone doesn't upload one\n        if(bool === true){\n            this.setState({\n                pictures:[]\n            })\n        }\n        this.setState({ modalShow: bool });\n    }\n\n    render() {\n        let curriesInIndex = [];\n        if (this.state.curryList !== null) {\n            for (let i = 0; i < this.state.curryList.length; i++) {\n                let curry = this.state.curryList[i];\n                curriesInIndex.push(\n                    this.renderCurryItem(\n                        curry.restaurantName,\n                        curry.curryType,\n                        curry.tastingNotes,\n                        curry.curryRating,\n                        curry.pic,\n                        i\n                    )\n                );\n            }\n        }\n\n        return (\n            <div id=\"bootstrap-overrides\">\n                { this.state.curryFalling &&\n                    <span className=\"falling-curry container\">\n                        <span onAnimationEnd={() => this.setState({ curryFalling: false })} className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                        <span className=\"fallingLeaves\"></span>\n                    </span>\n                }\n                {/* Curry Index: List of curries */}\n                <div className=\"header pb-0 pb-md-3\">\n                    <h1 className=\"mb-0\">Saved Curries</h1>\n                    <span className=\"link-like-span\" onClick={() => this.setModalShow(true)}>\n                        + Add New Curry\n                    </span>\n                </div>\n\n                <div className=\"row\">\n                    {curriesInIndex}\n                </div>\n                <AddCurryModal\n                    show={this.state.modalShow}\n                    onHide={() => this.setModalShow(false)}\n                    currySetter={this.addItem}\n                    onDrop ={this.onDrop}\n                />\n            </div >\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}